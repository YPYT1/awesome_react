# ç½‘ç»œè¯·æ±‚è°ƒè¯• - Reactåº”ç”¨HTTPè°ƒè¯•å®Œå…¨æŒ‡å—

## 1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·

### 1.1 Networké¢æ¿åŸºç¡€

```typescript
const networkPanel = {
  åŸºæœ¬åŠŸèƒ½: {
    è¯·æ±‚åˆ—è¡¨: 'æ˜¾ç¤ºæ‰€æœ‰HTTPè¯·æ±‚',
    è¯·æ±‚è¯¦æƒ…: 'æŸ¥çœ‹è¯·æ±‚å¤´ã€å“åº”å¤´ã€payload',
    æ—¶é—´çº¿: 'è¯·æ±‚æ—¶åºå›¾',
    è¿‡æ»¤å™¨: 'æŒ‰ç±»å‹ã€åŸŸåã€çŠ¶æ€ç è¿‡æ»¤',
    æœç´¢: 'æœç´¢è¯·æ±‚å†…å®¹'
  },
  
  è¯·æ±‚ä¿¡æ¯: {
    General: 'è¯·æ±‚æ–¹æ³•ã€çŠ¶æ€ç ã€URL',
    Headers: 'è¯·æ±‚å¤´å’Œå“åº”å¤´',
    Payload: 'è¯·æ±‚ä½“',
    Preview: 'å“åº”é¢„è§ˆ',
    Response: 'åŸå§‹å“åº”',
    Timing: 'è¯·æ±‚å„é˜¶æ®µè€—æ—¶'
  },
  
  å¿«æ·æ“ä½œ: {
    æ¸…ç©º: 'Ctrl + E',
    ä¿å­˜HAR: 'å¯¼å‡ºç½‘ç»œæ—¥å¿—',
    è¿‡æ»¤: 'æŒ‰ç±»å‹/åŸŸåè¿‡æ»¤',
    å¤åˆ¶: 'å¤åˆ¶ä¸ºcURL/Fetch'
  }
};
```

### 1.2 æŸ¥çœ‹è¯·æ±‚è¯¦æƒ…

```typescript
// å…¸å‹çš„APIè¯·æ±‚åˆ†æ
const requestAnalysis = {
  åŸºæœ¬ä¿¡æ¯: {
    URL: 'https://api.example.com/users/123',
    Method: 'GET',
    Status: '200 OK',
    Type: 'xhr',
    Size: '2.1 KB',
    Time: '125 ms'
  },
  
  è¯·æ±‚å¤´: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer token...',
    'Accept': 'application/json',
    'User-Agent': 'Mozilla/5.0...'
  },
  
  å“åº”å¤´: {
    'Content-Type': 'application/json',
    'Cache-Control': 'max-age=3600',
    'Access-Control-Allow-Origin': '*',
    'X-Response-Time': '15ms'
  },
  
  å“åº”ä½“: {
    id: 123,
    name: 'John Doe',
    email: 'john@example.com'
  }
};
```

## 2. Reactä¸­çš„ç½‘ç»œè¯·æ±‚è°ƒè¯•

### 2.1 Fetch APIè°ƒè¯•

```typescript
// åœ¨ç»„ä»¶ä¸­è°ƒè¯•fetchè¯·æ±‚
function UserProfile({ userId }) {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    async function fetchUser() {
      try {
        console.log('ğŸ” Fetching user:', userId);
        
        // åœ¨Networké¢æ¿æŸ¥çœ‹æ­¤è¯·æ±‚
        const response = await fetch(`/api/users/${userId}`);
        
        console.log('ğŸ“¥ Response status:', response.status);
        console.log('ğŸ“¥ Response headers:', [...response.headers]);
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        console.log('âœ… Data received:', data);
        
        setUser(data);
      } catch (err) {
        console.error('âŒ Fetch error:', err);
        setError(err.message);
      } finally {
        setLoading(false);
      }
    }
    
    fetchUser();
  }, [userId]);
  
  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error}</div>;
  if (!user) return <div>No user found</div>;
  
  return (
    <div>
      <h1>{user.name}</h1>
      <p>{user.email}</p>
    </div>
  );
}
```

### 2.2 Axiosè°ƒè¯•

```typescript
import axios from 'axios';

// é…ç½®Axiosæ‹¦æˆªå™¨ç”¨äºè°ƒè¯•
const setupAxiosDebug = () => {
  // è¯·æ±‚æ‹¦æˆªå™¨
  axios.interceptors.request.use(
    config => {
      console.group('ğŸš€ Axios Request');
      console.log('URL:', config.url);
      console.log('Method:', config.method);
      console.log('Headers:', config.headers);
      console.log('Data:', config.data);
      console.log('Params:', config.params);
      console.groupEnd();
      
      // å¯ä»¥åœ¨è¿™é‡Œä¿®æ”¹è¯·æ±‚
      config.metadata = { startTime: new Date() };
      
      return config;
    },
    error => {
      console.error('âŒ Request Error:', error);
      return Promise.reject(error);
    }
  );
  
  // å“åº”æ‹¦æˆªå™¨
  axios.interceptors.response.use(
    response => {
      const endTime = new Date();
      const duration = endTime - response.config.metadata.startTime;
      
      console.group('âœ… Axios Response');
      console.log('URL:', response.config.url);
      console.log('Status:', response.status);
      console.log('Duration:', `${duration}ms`);
      console.log('Headers:', response.headers);
      console.log('Data:', response.data);
      console.groupEnd();
      
      return response;
    },
    error => {
      console.group('âŒ Axios Error');
      console.log('URL:', error.config?.url);
      console.log('Status:', error.response?.status);
      console.log('Message:', error.message);
      console.log('Response:', error.response?.data);
      console.groupEnd();
      
      return Promise.reject(error);
    }
  );
};

// ä½¿ç”¨
setupAxiosDebug();

// ç»„ä»¶ä¸­ä½¿ç”¨
function DataFetcher() {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    axios.get('/api/data')
      .then(response => {
        setData(response.data);
      })
      .catch(error => {
        console.error('Failed to fetch:', error);
      });
  }, []);
  
  return <div>{data && JSON.stringify(data)}</div>;
}
```

### 2.3 React Queryè°ƒè¯•

```typescript
import { QueryClient, QueryClientProvider, useQuery } from '@tanstack/react-query';
import { ReactQueryDevtools } from '@tanstack/react-query-devtools';

// é…ç½®QueryClientç”¨äºè°ƒè¯•
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      // å¼€å‘ç¯å¢ƒå¯ç”¨è¯¦ç»†æ—¥å¿—
      onError: (error) => {
        console.error('Query Error:', error);
      },
      onSuccess: (data) => {
        console.log('Query Success:', data);
      },
      // å¯ç”¨é‡è¯•æ—¥å¿—
      retry: (failureCount, error) => {
        console.log(`Retry attempt ${failureCount}:`, error);
        return failureCount < 3;
      }
    }
  },
  // é…ç½®logger
  logger: {
    log: (...args) => console.log('[React Query]', ...args),
    warn: (...args) => console.warn('[React Query]', ...args),
    error: (...args) => console.error('[React Query]', ...args)
  }
});

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <YourApp />
      {/* React Queryå¼€å‘å·¥å…· */}
      <ReactQueryDevtools initialIsOpen={false} />
    </QueryClientProvider>
  );
}

// ä½¿ç”¨useQuery
function Users() {
  const { data, isLoading, error, refetch } = useQuery({
    queryKey: ['users'],
    queryFn: async () => {
      console.log('ğŸ”„ Fetching users...');
      const response = await fetch('/api/users');
      
      if (!response.ok) {
        console.error('âŒ Response not ok:', response.status);
        throw new Error('Failed to fetch users');
      }
      
      const data = await response.json();
      console.log('âœ… Users fetched:', data.length, 'users');
      
      return data;
    },
    // å¯ç”¨è¯¦ç»†æ—¥å¿—
    meta: {
      errorMessage: 'Failed to load users'
    }
  });
  
  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  
  return (
    <div>
      <button onClick={() => refetch()}>Refresh</button>
      <ul>
        {data.map(user => (
          <li key={user.id}>{user.name}</li>
        ))}
      </ul>
    </div>
  );
}
```

## 3. ç½‘ç»œè¯·æ±‚Mock

### 3.1 MSW (Mock Service Worker)

```typescript
// src/mocks/handlers.ts
import { rest } from 'msw';

export const handlers = [
  // GETè¯·æ±‚mock
  rest.get('/api/users', (req, res, ctx) => {
    console.log('ğŸ­ MSW: Intercepted GET /api/users');
    
    return res(
      ctx.status(200),
      ctx.json([
        { id: 1, name: 'John' },
        { id: 2, name: 'Jane' }
      ])
    );
  }),
  
  // POSTè¯·æ±‚mock
  rest.post('/api/users', async (req, res, ctx) => {
    const body = await req.json();
    console.log('ğŸ­ MSW: Intercepted POST /api/users', body);
    
    return res(
      ctx.status(201),
      ctx.json({
        id: 3,
        ...body
      })
    );
  }),
  
  // æ¨¡æ‹Ÿé”™è¯¯
  rest.get('/api/error', (req, res, ctx) => {
    console.log('ğŸ­ MSW: Simulating error');
    
    return res(
      ctx.status(500),
      ctx.json({
        error: 'Internal Server Error'
      })
    );
  }),
  
  // æ¨¡æ‹Ÿå»¶è¿Ÿ
  rest.get('/api/slow', (req, res, ctx) => {
    console.log('ğŸ­ MSW: Simulating slow response');
    
    return res(
      ctx.delay(3000),  // 3ç§’å»¶è¿Ÿ
      ctx.json({ message: 'Slow response' })
    );
  })
];

// src/mocks/browser.ts
import { setupWorker } from 'msw';
import { handlers } from './handlers';

export const worker = setupWorker(...handlers);

// src/index.tsx
if (process.env.NODE_ENV === 'development') {
  const { worker } = await import('./mocks/browser');
  worker.start({
    onUnhandledRequest: 'warn'  // è­¦å‘Šæœªå¤„ç†çš„è¯·æ±‚
  });
}
```

### 3.2 è‡ªå®šä¹‰Mockå·¥å…·

```typescript
// mockApi.ts
class MockAPI {
  private mocks = new Map();
  private delays = new Map();
  
  // æ³¨å†Œmockå“åº”
  mock(url, response, options = {}) {
    console.log(`ğŸ“ Mocking: ${url}`);
    
    this.mocks.set(url, {
      response,
      status: options.status || 200,
      delay: options.delay || 0
    });
  }
  
  // æ‹¦æˆªfetch
  setupFetchMock() {
    const originalFetch = window.fetch;
    
    window.fetch = async (url, options) => {
      const urlString = typeof url === 'string' ? url : url.toString();
      
      // æ£€æŸ¥æ˜¯å¦æœ‰mock
      if (this.mocks.has(urlString)) {
        const mock = this.mocks.get(urlString);
        
        console.group('ğŸ­ Mock Response');
        console.log('URL:', urlString);
        console.log('Method:', options?.method || 'GET');
        console.log('Delay:', mock.delay, 'ms');
        console.log('Response:', mock.response);
        console.groupEnd();
        
        // æ¨¡æ‹Ÿå»¶è¿Ÿ
        if (mock.delay > 0) {
          await new Promise(resolve => setTimeout(resolve, mock.delay));
        }
        
        // è¿”å›mockå“åº”
        return Promise.resolve({
          ok: mock.status >= 200 && mock.status < 300,
          status: mock.status,
          json: async () => mock.response,
          text: async () => JSON.stringify(mock.response),
          headers: new Headers({
            'Content-Type': 'application/json'
          })
        });
      }
      
      // æ²¡æœ‰mock,ä½¿ç”¨çœŸå®è¯·æ±‚
      console.log('ğŸŒ Real fetch:', urlString);
      return originalFetch(url, options);
    };
  }
  
  // æ¸…é™¤æ‰€æœ‰mock
  clearAll() {
    console.log('ğŸ§¹ Clearing all mocks');
    this.mocks.clear();
  }
}

// ä½¿ç”¨
const mockAPI = new MockAPI();
mockAPI.setupFetchMock();

// æ³¨å†Œmock
mockAPI.mock('/api/users', [
  { id: 1, name: 'John' },
  { id: 2, name: 'Jane' }
], { delay: 500 });

mockAPI.mock('/api/error', 
  { error: 'Not found' },
  { status: 404 }
);
```

## 4. ä»£ç†é…ç½®

### 4.1 Viteä»£ç†é…ç½®

```javascript
// vite.config.js
export default {
  server: {
    proxy: {
      // ä»£ç†æ‰€æœ‰/apiè¯·æ±‚
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
        // é…ç½®ä»£ç†æ—¥å¿—
        configure: (proxy, options) => {
          proxy.on('error', (err, req, res) => {
            console.log('âŒ Proxy error:', err);
          });
          proxy.on('proxyReq', (proxyReq, req, res) => {
            console.log('ğŸ”„ Proxying:', req.method, req.url);
          });
          proxy.on('proxyRes', (proxyRes, req, res) => {
            console.log('âœ… Proxy response:', proxyRes.statusCode, req.url);
          });
        }
      },
      
      // WebSocketä»£ç†
      '/ws': {
        target: 'ws://localhost:3001',
        ws: true
      }
    }
  }
};
```

### 4.2 Next.jsä»£ç†é…ç½®

```javascript
// next.config.js
module.exports = {
  async rewrites() {
    return [
      {
        source: '/api/:path*',
        destination: 'http://localhost:3001/:path*'
      }
    ];
  }
};
```

### 4.3 CRAä»£ç†é…ç½®

```javascript
// src/setupProxy.js
const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function(app) {
  app.use(
    '/api',
    createProxyMiddleware({
      target: 'http://localhost:3001',
      changeOrigin: true,
      pathRewrite: {
        '^/api': ''
      },
      onProxyReq: (proxyReq, req, res) => {
        console.log('ğŸ”„ Proxying:', req.method, req.url);
      },
      onProxyRes: (proxyRes, req, res) => {
        console.log('âœ… Proxy response:', proxyRes.statusCode);
      },
      onError: (err, req, res) => {
        console.error('âŒ Proxy error:', err);
      }
    })
  );
};
```

## 5. è¯·æ±‚æ€§èƒ½åˆ†æ

### 5.1 Timingåˆ†æ

```typescript
// è¯¦ç»†çš„è¯·æ±‚æ—¶åºåˆ†æ
const requestTiming = {
  Queueing: 'è¯·æ±‚åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…çš„æ—¶é—´',
  Stalled: 'åœ¨å‘é€å‰çš„åœæ»æ—¶é—´',
  DNSLookup: 'DNSæŸ¥è¯¢æ—¶é—´',
  InitialConnection: 'å»ºç«‹TCPè¿æ¥æ—¶é—´',
  SSL: 'SSLæ¡æ‰‹æ—¶é—´',
  RequestSent: 'å‘é€è¯·æ±‚æ—¶é—´',
  WaitingTTFB: 'ç­‰å¾…é¦–å­—èŠ‚å“åº”æ—¶é—´',
  ContentDownload: 'ä¸‹è½½å“åº”å†…å®¹æ—¶é—´'
};

// ä½¿ç”¨Performance APIæµ‹é‡
function measureRequest(url) {
  const startTime = performance.now();
  
  fetch(url)
    .then(response => {
      const endTime = performance.now();
      const duration = endTime - startTime;
      
      console.group('â±ï¸ Request Performance');
      console.log('URL:', url);
      console.log('Total Time:', `${duration.toFixed(2)}ms`);
      console.log('Status:', response.status);
      console.log('Size:', response.headers.get('content-length'), 'bytes');
      console.groupEnd();
      
      return response.json();
    });
}

// ä½¿ç”¨Resource Timing API
function analyzeResourceTiming(url) {
  const entries = performance.getEntriesByType('resource');
  const entry = entries.find(e => e.name.includes(url));
  
  if (entry) {
    console.group('ğŸ“Š Resource Timing');
    console.log('DNS Lookup:', `${entry.domainLookupEnd - entry.domainLookupStart}ms`);
    console.log('TCP Connect:', `${entry.connectEnd - entry.connectStart}ms`);
    console.log('Request:', `${entry.responseStart - entry.requestStart}ms`);
    console.log('Response:', `${entry.responseEnd - entry.responseStart}ms`);
    console.log('Total:', `${entry.duration}ms`);
    console.groupEnd();
  }
}
```

### 5.2 è¯·æ±‚ç¼“å­˜åˆ†æ

```typescript
// åˆ†æç¼“å­˜å‘½ä¸­æƒ…å†µ
function analyzeCaching() {
  const entries = performance.getEntriesByType('resource');
  
  const cacheStats = {
    fromCache: 0,
    fromNetwork: 0,
    total: entries.length
  };
  
  entries.forEach(entry => {
    // æ£€æŸ¥æ˜¯å¦ä»ç¼“å­˜åŠ è½½
    if (entry.transferSize === 0) {
      cacheStats.fromCache++;
      console.log('ğŸ’¾ From cache:', entry.name);
    } else {
      cacheStats.fromNetwork++;
      console.log('ğŸŒ From network:', entry.name, `(${entry.transferSize} bytes)`);
    }
  });
  
  console.group('ğŸ“ˆ Cache Statistics');
  console.log('Total Requests:', cacheStats.total);
  console.log('From Cache:', cacheStats.fromCache);
  console.log('From Network:', cacheStats.fromNetwork);
  console.log('Cache Hit Rate:', `${(cacheStats.fromCache / cacheStats.total * 100).toFixed(2)}%`);
  console.groupEnd();
}
```

## 6. WebSocketè°ƒè¯•

### 6.1 WebSocketè¿æ¥è°ƒè¯•

```typescript
class DebugWebSocket extends WebSocket {
  constructor(url, protocols) {
    super(url, protocols);
    
    console.log('ğŸ”Œ WebSocket: Connecting to', url);
    
    this.addEventListener('open', (event) => {
      console.log('âœ… WebSocket: Connected');
    });
    
    this.addEventListener('message', (event) => {
      console.group('ğŸ“¨ WebSocket: Message Received');
      console.log('Data:', event.data);
      console.log('Time:', new Date().toISOString());
      try {
        const parsed = JSON.parse(event.data);
        console.log('Parsed:', parsed);
      } catch (e) {
        // ä¸æ˜¯JSONæ•°æ®
      }
      console.groupEnd();
    });
    
    this.addEventListener('error', (event) => {
      console.error('âŒ WebSocket: Error', event);
    });
    
    this.addEventListener('close', (event) => {
      console.log('ğŸ”Œ WebSocket: Closed', {
        code: event.code,
        reason: event.reason,
        wasClean: event.wasClean
      });
    });
  }
  
  send(data) {
    console.group('ğŸ“¤ WebSocket: Sending');
    console.log('Data:', data);
    try {
      const parsed = JSON.parse(data);
      console.log('Parsed:', parsed);
    } catch (e) {
      // ä¸æ˜¯JSONæ•°æ®
    }
    console.groupEnd();
    
    super.send(data);
  }
}

// ä½¿ç”¨
function ChatComponent() {
  const [ws, setWs] = useState(null);
  const [messages, setMessages] = useState([]);
  
  useEffect(() => {
    const socket = new DebugWebSocket('ws://localhost:8080');
    
    socket.onmessage = (event) => {
      const message = JSON.parse(event.data);
      setMessages(prev => [...prev, message]);
    };
    
    setWs(socket);
    
    return () => {
      socket.close();
    };
  }, []);
  
  const sendMessage = (text) => {
    if (ws && ws.readyState === WebSocket.OPEN) {
      ws.send(JSON.stringify({ type: 'message', text }));
    }
  };
  
  return (
    <div>
      {messages.map((msg, i) => (
        <div key={i}>{msg.text}</div>
      ))}
      <button onClick={() => sendMessage('Hello')}>Send</button>
    </div>
  );
}
```

### 6.2 Socket.ioè°ƒè¯•

```typescript
import io from 'socket.io-client';

// å¯ç”¨è°ƒè¯•æ¨¡å¼
const socket = io('http://localhost:3001', {
  // å¯ç”¨æ—¥å¿—
  debug: true,
  // è‡ªå®šä¹‰æ—¥å¿—å‡½æ•°
  logger: {
    log: (...args) => console.log('[Socket.io]', ...args),
    error: (...args) => console.error('[Socket.io]', ...args)
  }
});

// ç›‘å¬æ‰€æœ‰äº‹ä»¶
function logAllEvents(socket) {
  const onevent = socket.onevent;
  
  socket.onevent = function(packet) {
    console.group('ğŸ“¡ Socket.io Event');
    console.log('Event:', packet.data[0]);
    console.log('Data:', packet.data.slice(1));
    console.log('Time:', new Date().toISOString());
    console.groupEnd();
    
    onevent.call(this, packet);
  };
}

logAllEvents(socket);

// ç›‘å¬è¿æ¥äº‹ä»¶
socket.on('connect', () => {
  console.log('âœ… Socket.io: Connected', socket.id);
});

socket.on('disconnect', (reason) => {
  console.log('ğŸ”Œ Socket.io: Disconnected', reason);
});

socket.on('error', (error) => {
  console.error('âŒ Socket.io: Error', error);
});
```

## 7. GraphQLè¯·æ±‚è°ƒè¯•

### 7.1 Apollo Clientè°ƒè¯•

```typescript
import { ApolloClient, InMemoryCache, ApolloLink } from '@apollo/client';

// åˆ›å»ºæ—¥å¿—é“¾æ¥
const logLink = new ApolloLink((operation, forward) => {
  console.group('ğŸš€ GraphQL Request');
  console.log('Operation:', operation.operationName);
  console.log('Variables:', operation.variables);
  console.log('Query:', operation.query.loc.source.body);
  console.groupEnd();
  
  const startTime = Date.now();
  
  return forward(operation).map(response => {
    const duration = Date.now() - startTime;
    
    console.group('âœ… GraphQL Response');
    console.log('Operation:', operation.operationName);
    console.log('Duration:', `${duration}ms`);
    console.log('Data:', response.data);
    if (response.errors) {
      console.error('Errors:', response.errors);
    }
    console.groupEnd();
    
    return response;
  });
});

// åˆ›å»ºApollo Client
const client = new ApolloClient({
  uri: '/graphql',
  cache: new InMemoryCache(),
  link: logLink.concat(httpLink),
  // å¼€å‘å·¥å…·
  connectToDevTools: true
});

// ä½¿ç”¨
function Users() {
  const { data, loading, error } = useQuery(GET_USERS);
  
  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error.message}</div>;
  
  return (
    <ul>
      {data.users.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

### 7.2 GraphQL Playground

```typescript
// åœ¨å¼€å‘ç¯å¢ƒå¯ç”¨GraphQL Playground
const enableGraphQLPlayground = () => {
  if (process.env.NODE_ENV === 'development') {
    console.log('ğŸ® GraphQL Playground available at /graphql');
  }
};
```

## 8. é”™è¯¯å¤„ç†å’Œè°ƒè¯•

### 8.1 ç½‘ç»œé”™è¯¯å¤„ç†

```typescript
// ç»Ÿä¸€é”™è¯¯å¤„ç†
async function fetchWithErrorHandling(url, options = {}) {
  try {
    console.log('ğŸ”„ Fetching:', url);
    
    const response = await fetch(url, options);
    
    // æ£€æŸ¥HTTPçŠ¶æ€
    if (!response.ok) {
      const error = new Error(`HTTP ${response.status}: ${response.statusText}`);
      error.response = response;
      error.status = response.status;
      
      // å°è¯•è§£æé”™è¯¯å“åº”
      try {
        error.data = await response.json();
      } catch (e) {
        error.data = await response.text();
      }
      
      console.error('âŒ HTTP Error:', {
        url,
        status: error.status,
        data: error.data
      });
      
      throw error;
    }
    
    const data = await response.json();
    console.log('âœ… Success:', url, data);
    
    return data;
  } catch (error) {
    // ç½‘ç»œé”™è¯¯
    if (error.name === 'TypeError' && error.message.includes('fetch')) {
      console.error('âŒ Network Error:', {
        url,
        message: 'Network request failed',
        originalError: error
      });
      
      error.isNetworkError = true;
    }
    
    // è¶…æ—¶é”™è¯¯
    if (error.name === 'AbortError') {
      console.error('â±ï¸ Timeout Error:', url);
      error.isTimeout = true;
    }
    
    throw error;
  }
}

// ä½¿ç”¨
function DataFetcher() {
  const [data, setData] = useState(null);
  const [error, setError] = useState(null);
  
  useEffect(() => {
    fetchWithErrorHandling('/api/data')
      .then(setData)
      .catch(error => {
        setError(error);
        
        // æ ¹æ®é”™è¯¯ç±»å‹æ˜¾ç¤ºä¸åŒä¿¡æ¯
        if (error.isNetworkError) {
          alert('ç½‘ç»œè¿æ¥å¤±è´¥,è¯·æ£€æŸ¥ç½‘ç»œ');
        } else if (error.isTimeout) {
          alert('è¯·æ±‚è¶…æ—¶,è¯·ç¨åé‡è¯•');
        } else if (error.status === 404) {
          alert('èµ„æºä¸å­˜åœ¨');
        } else if (error.status >= 500) {
          alert('æœåŠ¡å™¨é”™è¯¯,è¯·ç¨åé‡è¯•');
        }
      });
  }, []);
  
  if (error) return <div>Error: {error.message}</div>;
  if (!data) return <div>Loading...</div>;
  
  return <div>{JSON.stringify(data)}</div>;
}
```

### 8.2 é‡è¯•æœºåˆ¶

```typescript
// å¸¦é‡è¯•çš„fetch
async function fetchWithRetry(url, options = {}, maxRetries = 3) {
  let lastError;
  
  for (let i = 0; i <= maxRetries; i++) {
    try {
      if (i > 0) {
        console.log(`ğŸ”„ Retry attempt ${i}/${maxRetries}:`, url);
        // æŒ‡æ•°é€€é¿
        await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
      }
      
      const response = await fetch(url, options);
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
      
      return await response.json();
    } catch (error) {
      lastError = error;
      console.error(`âŒ Attempt ${i + 1} failed:`, error.message);
      
      // æœ€åä¸€æ¬¡å°è¯•å¤±è´¥,æŠ›å‡ºé”™è¯¯
      if (i === maxRetries) {
        console.error(`âŒ All ${maxRetries + 1} attempts failed`);
        throw lastError;
      }
    }
  }
}

// ä½¿ç”¨
function RobustDataFetcher() {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    fetchWithRetry('/api/data', {}, 3)
      .then(setData)
      .catch(error => {
        console.error('Final error:', error);
      });
  }, []);
  
  return data ? <div>{JSON.stringify(data)}</div> : <div>Loading...</div>;
}
```

## 9. è°ƒè¯•å·¥å…·æ¨è

### 9.1 æµè§ˆå™¨æ‰©å±•

```typescript
const browserExtensions = {
  é€šç”¨å·¥å…·: [
    'React Developer Tools - æŸ¥çœ‹ç»„ä»¶æ ‘å’Œprops',
    'Redux DevTools - ReduxçŠ¶æ€ç®¡ç†è°ƒè¯•',
    'Apollo Client Devtools - GraphQLè°ƒè¯•'
  ],
  
  ç½‘ç»œå·¥å…·: [
    'ModHeader - ä¿®æ”¹è¯·æ±‚å¤´',
    'Requestly - æ‹¦æˆªå’Œä¿®æ”¹è¯·æ±‚',
    'JSON Formatter - æ ¼å¼åŒ–JSONå“åº”'
  ],
  
  æ€§èƒ½å·¥å…·: [
    'Lighthouse - æ€§èƒ½åˆ†æ',
    'Web Vitals - æ ¸å¿ƒæŒ‡æ ‡ç›‘æ§'
  ]
};
```

### 9.2 ç‹¬ç«‹å·¥å…·

```typescript
const standaloneTools = {
  Postman: {
    åŠŸèƒ½: ['APIæµ‹è¯•', 'è¯·æ±‚é›†åˆ', 'ç¯å¢ƒå˜é‡', 'è‡ªåŠ¨åŒ–æµ‹è¯•'],
    ä¼˜åŠ¿: 'åŠŸèƒ½å¼ºå¤§,å›¢é˜Ÿåä½œ'
  },
  
  Insomnia: {
    åŠŸèƒ½: ['REST API', 'GraphQL', 'gRPC', 'WebSocket'],
    ä¼˜åŠ¿: 'ç®€æ´æ˜“ç”¨,æ”¯æŒå¤šç§åè®®'
  },
  
  Charles: {
    åŠŸèƒ½: ['ä»£ç†è°ƒè¯•', 'SSLæŠ“åŒ…', 'è¯·æ±‚ä¿®æ”¹', 'é™é€Ÿæ¨¡æ‹Ÿ'],
    ä¼˜åŠ¿: 'ä¸“ä¸šçš„ç½‘ç»œè°ƒè¯•å·¥å…·'
  },
  
  Fiddler: {
    åŠŸèƒ½: ['HTTPè°ƒè¯•', 'æ€§èƒ½åˆ†æ', 'å®‰å…¨æµ‹è¯•'],
    ä¼˜åŠ¿: 'Windowså¹³å°é¦–é€‰'
  }
};
```

## 10. è°ƒè¯•æœ€ä½³å®è·µ

### 10.1 è°ƒè¯•æ£€æŸ¥æ¸…å•

```typescript
const debuggingChecklist = [
  'âœ… æ£€æŸ¥è¯·æ±‚URLæ˜¯å¦æ­£ç¡®',
  'âœ… æ£€æŸ¥è¯·æ±‚æ–¹æ³•(GET/POSTç­‰)',
  'âœ… æ£€æŸ¥è¯·æ±‚å¤´(Content-Type, Authorizationç­‰)',
  'âœ… æ£€æŸ¥è¯·æ±‚ä½“æ ¼å¼',
  'âœ… æ£€æŸ¥å“åº”çŠ¶æ€ç ',
  'âœ… æ£€æŸ¥å“åº”å¤´(CORSç­‰)',
  'âœ… æ£€æŸ¥å“åº”æ•°æ®æ ¼å¼',
  'âœ… æ£€æŸ¥ç½‘ç»œè¿æ¥',
  'âœ… æ£€æŸ¥ä»£ç†é…ç½®',
  'âœ… æ£€æŸ¥HTTPSè¯ä¹¦',
  'âœ… æ£€æŸ¥è¯·æ±‚è¶…æ—¶',
  'âœ… æ£€æŸ¥å¹¶å‘è¯·æ±‚æ•°',
  'âœ… æ£€æŸ¥ç¼“å­˜ç­–ç•¥',
  'âœ… æ£€æŸ¥é”™è¯¯å¤„ç†'
];
```

### 10.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®

```typescript
const performanceOptimization = {
  å‡å°‘è¯·æ±‚æ•°: [
    'åˆå¹¶APIè¯·æ±‚',
    'ä½¿ç”¨GraphQL',
    'æ‰¹é‡æ“ä½œ',
    'æŒ‰éœ€åŠ è½½'
  ],
  
  ä¼˜åŒ–è¯·æ±‚å¤§å°: [
    'å¯ç”¨gzipå‹ç¼©',
    'åªè¯·æ±‚éœ€è¦çš„å­—æ®µ',
    'åˆ†é¡µåŠ è½½',
    'å›¾ç‰‡å‹ç¼©'
  ],
  
  åˆ©ç”¨ç¼“å­˜: [
    'HTTPç¼“å­˜å¤´',
    'Service Worker',
    'æœ¬åœ°å­˜å‚¨',
    'CDNç¼“å­˜'
  ],
  
  å¹¶å‘æ§åˆ¶: [
    'é™åˆ¶å¹¶å‘æ•°',
    'è¯·æ±‚é˜Ÿåˆ—',
    'è¯·æ±‚ä¼˜å…ˆçº§',
    'å–æ¶ˆé‡å¤è¯·æ±‚'
  ]
};
```

## 11. æ€»ç»“

ç½‘ç»œè¯·æ±‚è°ƒè¯•çš„æ ¸å¿ƒè¦ç‚¹:

1. **æµè§ˆå™¨å¼€å‘è€…å·¥å…·**: Networké¢æ¿æ˜¯æœ€åŸºç¡€çš„è°ƒè¯•å·¥å…·
2. **è¯·æ±‚æ‹¦æˆª**: ä½¿ç”¨æ‹¦æˆªå™¨è®°å½•å’Œä¿®æ”¹è¯·æ±‚
3. **Mockæ•°æ®**: ä½¿ç”¨MSWç­‰å·¥å…·æ¨¡æ‹ŸAPI
4. **ä»£ç†é…ç½®**: è§£å†³è·¨åŸŸå’Œç¯å¢ƒåˆ‡æ¢é—®é¢˜
5. **æ€§èƒ½åˆ†æ**: å…³æ³¨è¯·æ±‚æ—¶åºå’Œç¼“å­˜
6. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
7. **è°ƒè¯•å·¥å…·**: å–„ç”¨æµè§ˆå™¨æ‰©å±•å’Œç‹¬ç«‹å·¥å…·
8. **æœ€ä½³å®è·µ**: éµå¾ªè°ƒè¯•æ£€æŸ¥æ¸…å•

æŒæ¡è¿™äº›ç½‘ç»œè¯·æ±‚è°ƒè¯•æŠ€å·§,å¯ä»¥å¿«é€Ÿå®šä½å’Œè§£å†³ç½‘ç»œç›¸å…³é—®é¢˜,æå‡å¼€å‘æ•ˆç‡ã€‚


